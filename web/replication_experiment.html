<!doctype html>
<html>
  <head>
    <script src="./jspsych/jquery.min.js" type="text/javascript"></script>
    <script src="./jspsych/jquery-ui.min.js" type="text/javascript"></script>
    <script src="./jspsych/jspsych.js" type="text/javascript"></script>
    <script src="./plugins/turk-final-plugin.js" type="text/javascript"></script>
    <script src="./plugins/turk-initial-plugin.js" type="text/javascript"></script>
    <script src="./plugins/rotation-plugin.js" type="text/javascript"></script>
    <script src="./plugins/instructions-plugin.js" type="text/javascript"></script>
    <script src="https://uniqueturker.myleott.com/lib.js" type="text/javascript"></script>
 <script src="./plugins/testing-display-data-plugin.js"></script>
    <link rel="stylesheet" href="./css/jquery-ui.css"></link>
    <link rel="stylesheet" href="./css/jspsych.css"></link>
    <link rel="stylesheet" href="./css/254rep.css"></link>
  </head>
  <body>
    <div id="jspsych-target"></div>
  </body>
  <script>
	//Check if unique participant
	repeat_worker = false;
	(function(){
	    var ut_id = "lampinen-254";
	    if (UTWorkerLimitReached(ut_id)) {
		repeat_worker = true;
		$('#jspsych-target').append("<p style='color:red'><b>You have already completed the maximum number of HITs allowed by this requester. Please click 'Return HIT' to avoid any impact on your approval rating.</b></p>");
	    }
	})(jQuery);
	
	if (!repeat_worker) { //Continue with experiment



//Trials//////////////////////////////////////////////////////////////////////////////////
	var instructions = {
			type: "instructions",
			text: "Instructions: On each trial, you will be presented with a set of four consonants. Verbally rehearse these consonants during the remainder of the trial. Next, you will be presented with a cue (a pinwheel), which will either be static or rotating. If the pinwheel is rotating, you will also hear a sound of rotation. If the pinwheel is rotating, try to remember the speed at which it is rotating (the total amount it rotates is irrelevant). Next, you will be shown an object consisting of four colored bars in the shape of a +. Then, the object will be hidden (pretend that a curtain drops between you and the image), and there will be a delay period. If the pinwheel was rotating, you will hear the rotation sound, and try to mentally rotate the object for the time that it is hidden, at the same rate that the pinwheel rotated. At an unpredictable point, the curtain will be raised, and another object will be revealed. Your task is to determine whether the object shown is the same as the original argument (none of the bars of the + have been switched), and if it has rotated the correct amount. If the pinwheel was not rotating, you do not have to perform the mental rotation, and you only have to check if the object is the same, it will not have been rotated. You will be tested unpredictably at the end of some trials on your memory for the consonants you were shown at the beginning. <br /><br />Click continue when you are ready to begin.",
			timing_post_trial: 500
	};

	var rotation_test_0 = {
			type: "rotation",
			timing_post_trial: 500,
			trial_type: "rotate",
			initial_angle: 0.3,
			rotation_speed: 0.00087,
			rotation_time: 1600,
			verb_supp_check: true,
			response_choices: [69,73],
			response_mappings: ["correct","incorrect"]
	};

	var rotation_test_1 = {
			type: "rotation",
			timing_post_trial: 500,
			trial_type: "swap",
			initial_angle: -1,
			rotation_speed: 0,
			rotation_time: 2400,
			verb_supp_check: true,
			response_choices: [69,73],
			response_mappings: ["correct","incorrect"]
	};

	var rotation_test_2 = {
			type: "rotation",
			timing_post_trial: 500,
			trial_type: "correct",
			object_specifier: [1,3,2,0],
			rotation_speed: -0.00087,
			rotation_time: 800,
			verb_supp_check: true,
			response_choices: [69,73],
			response_mappings: ["correct","incorrect"]
	};


	var debug_data = {
			type: "testing-display-data",
			timing_post_trial: 0
	};

//Initialize//////////////////////////////////////////////////////////////////////////////////


        experiment_structure = [instructions,rotation_test_0,rotation_test_1,rotation_test_2,debug_data];
	

	jsPsych.init({
		display_element: $('#jspsych-target'),
		experiment_structure: experiment_structure 
	});
	}
</script>
</html>
