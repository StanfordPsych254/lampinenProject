<!doctype html>
<html>
  <head>
    <script src="./jspsych/jquery.min.js" type="text/javascript"></script>
    <script src="./jspsych/jquery-ui.min.js" type="text/javascript"></script>
    <script src="./jspsych/jspsych.js" type="text/javascript"></script>
    <script src="./plugins/turk-final-plugin.js" type="text/javascript"></script>
    <script src="./plugins/turk-initial-plugin.js" type="text/javascript"></script>
    <script src="./plugins/rotation-plugin.js" type="text/javascript"></script>
    <script src="https://uniqueturker.myleott.com/lib.js" type="text/javascript"></script>
 <script src="./plugins/testing-display-data-plugin.js"></script>
    <link rel="stylesheet" href="./css/jquery-ui.css"></link>
    <link rel="stylesheet" href="./css/jspsych.css"></link>
    <link rel="stylesheet" href="./css/254rep.css"></link>
  </head>
  <body>
    <div id="jspsych-target"></div>
  </body>
  <script>
	//Check if unique participant
	repeat_worker = false;
	(function(){
	    var ut_id = "lampinen-254";
	    if (UTWorkerLimitReached(ut_id)) {
		repeat_worker = true;
		$('#jspsych-target').append("<p style='color:red'><b>You have already completed the maximum number of HITs allowed by this requester. Please click 'Return HIT' to avoid any impact on your approval rating.</b></p>");
	    }
	})(jQuery);
	
	if (!repeat_worker) { //Continue with experiment



//Trials//////////////////////////////////////////////////////////////////////////////////
	var rotation_test_0 = {
			type: "rotation",
			timing_post_trial: 0,
			trial_type: "rotate",
			rotation_speed: 0.001,
			rotation_time: 1600,
			verb_supp_check: true,
			response_choices: [69,73],
			response_mappings: ["correct","incorrect"]
	};

	var rotation_test_1 = {
			type: "rotation",
			timing_post_trial: 0,
			trial_type: "swap",
			rotation_speed: 0,
			rotation_time: 2400,
			verb_supp_check: true,
			response_choices: [69,73],
			response_mappings: ["correct","incorrect"]
	};

	var rotation_test_2 = {
			type: "rotation",
			timing_post_trial: 0,
			trial_type: "correct",
			object_specifier: [1,3,2,0],
			rotation_speed: -0.002,
			rotation_time: 800,
			verb_supp_check: true,
			response_choices: [69,73],
			response_mappings: ["correct","incorrect"]
	};


	var debug_data = {
			type: "testing-display-data",
			timing_post_trial: 0
	};

//Initialize//////////////////////////////////////////////////////////////////////////////////


        experiment_structure = [rotation_test_0,rotation_test_1,rotation_test_2,debug_data];
	

	jsPsych.init({
		display_element: $('#jspsych-target'),
		experiment_structure: experiment_structure 
	});
	}
</script>
</html>
